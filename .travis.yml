matrix:
  include:
  - os: linux
    language: python
    python: 2.7
    env:
    - TOXENV=py27
    - PYTHON=2.7
  - os: linux
    language: python
    python: 3.4
    env:
    - TOXENV=py34
    - PYTHON=3.4
  - os: linux
    language: python
    python: 3.5
    env:
    - TOXENV=py35
    - PYTHON=3.5
  - os: linux
    language: python
    python: 3.6
    env:
    - TOXENV=py36
    - PYTHON=3.6
  - os: linux
    language: python
    dist: xenial
    python: 3.7
    sudo: true
    env:
    - TOXENV=py37
    - PYTHON=3.7
  - os: osx
    languague: generic
    env:
    - PYTHON=2.7
    - TOXENV=py27
  - os: osx
    languague: generic
    env:
    - PYTHON=3.4.8
    - TOXENV=py34
  - os: osx
    languague: generic
    env:
    - PYTHON=3.5.5
    - TOXENV=py35
  - os: osx
    languague: generic
    env:
    - PYTHON=3.6.5
    - TOXENV=py36
  - os: osx
    languague: generic
    env:
    - PYTHON=3.7.1
    - TOXENV=py37
before_install:
- cd gopath/src/github.com/skycoin/skycoin && git checkout develop && cd ${TRAVIS_BUILD_DIR}
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; then bash ./.travis/install-linux.sh ; fi
- if [[ $TRAVIS_OS_NAME == 'osx' ]]; then bash ./.travis/install-osx.sh; fi
- if [[ $TRAVIS_OS_NAME == 'osx' ]]; then export PYCMD_VERSION="$(echo ${PYTHON} |
  cut -d . -f 1,2)" ; fi
- if [[ $TRAVIS_OS_NAME == 'osx' ]]; then export PYCMD_PATH="$(pyenv which python${PYCMD_VERSION})"
  ; fi
- if [[ $TRAVIS_OS_NAME == 'osx' ]]; then export PYCMD_DIRPATH="$( dirname ${PYCMD_PATH}
  )" ; fi
- if [[ $TRAVIS_OS_NAME == 'osx' ]]; then export PATH="${PYCMD_DIRPATH}:/Users/travis/.pyenv/shims:${PATH}"
  ; fi
- if [[ $TRAVIS_OS_NAME == 'osx' ]]; then eval "alias python${PYCMD_VERSION}=$(pyenv
  which python${PYCMD_VERSION})" && eval "alias python2.7=$(pyenv which python2.7)";
  fi
- if [[ $TRAVIS_OS_NAME == 'osx' ]]; then pyenv versions ; fi
- if [[ $TRAVIS_OS_NAME == 'osx' ]]; then pyenv which python${PYCMD_VERSION} ; fi
- if [[ $TRAVIS_OS_NAME == 'osx' ]]; then eval "python${PYCMD_VERSION} --version"
  ; fi
- echo "PATH=$PATH"
install:
- eval "$(gimme 1.10)"
after_failure:
- cat ./.tox/${TOXENV}/log/${TOXENV}-*.log
script: make test-ci
notifications:
  email: false
  webhooks: https://fathomless-fjord-24024.herokuapp.com/notify
deploy:
  provider: pypi
  user: hanibal920915
  password:
    secure: D1yWvwC929+Xic3W2G0RqrmBBlYUgaPvJcir2VWLGiQcoPUWHon0+JXTXIrltpAKO9+A5NQkzJSdbandbhASGNeISekrpBT2PB2YKQBB1Akl+7xXDFfblVK8KS02rwyCb/AFQcilZhymBKWjYC3MGP6aW7IhHDuIfXF+FC9/jh6dzE7ckPH8E27BP9sOfCosUMrG9RQKH7Q35hMXzTgjCpYw8mgp/fxGucaOia+K1EjLB2L7T1gzgs+vvgLKn0E2jfQQES643FSjT5xufXEFk0lezobxw41FEjKKlZ7LkY9FsibQi2uh/7GOxzOlZY5lkFnK6p2/i8ae9F3tO8S4oaEh/Bx2Vn9wb7y+fFfehZTfuMuorx1o9c3gz5b+YqjmaAoV8jR1FqJtrYmyy8HRcSyUB1/KXFPnrvdGQx9PfgfyERRxT3BQfpJsdqaAY6/d/LDq7UXbCvOW49vdVSUGogci3HcQdYGB3qad74omh7LbW6lW0173R0u8HH+sCCUe00U4Fm9igioqcjMEdbM1QCMyu9ILb72HdbsEzTtAoVvzY9zCdS/oV43eYukUwUGOCsMVW+1BqHdeS+OYInO5jmrDDDgQMkxFyIQMvyugKUuplfKpUBN6h9TO2xZcwUgbuOh4C9kXlU7o6RUZUEvxodNe2xFwmCqwKLMbynVEfEE=
  on:
    branch: develop
